<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orden de Proveedor {{ ordenProveedor.codigoOp }}</title>
    <style>
        {{{ css }}}
    </style>
</head>
<body>
    <div class="contenedor">
        <!--  Encabezado con datos de la empresa -->
        <div class="encabezado">
            <div class="empresa-info">
                {{#if logoEmpresa}}
                <div class="logo-container">
                    <img src="{{ logoEmpresa }}" alt="Logo {{ empresa.razonSocial }}" class="logo-empresa">
                </div>
                {{/if}}
                <strong>{{ empresa.razonSocial }}</strong><br>
                RUC: {{ empresa.ruc }}<br>
                {{#if empresa.direccion}}
                    Direcci贸n (Lima): {{ empresa.direccion }}<br>
                {{/if}}
                {{#if empresa.direcciones}}
                    Direcci贸n (Jun铆n): {{ empresa.direcciones }}<br>
                {{/if}}
                {{#if empresa.web}}
                    Web: {{ empresa.web }}<br>
                {{/if}}
                {{#if empresa.telefono}}
                    Tel茅fono: {{ empresa.telefono }}<br>
                {{/if}}
                {{#if empresa.email}}
                    Email (facturaci贸n): {{ empresa.email }}
                {{/if}}
            </div>
            <div class="ruc-box">
                R.U.C: {{ empresa.ruc }}
                <div class="orden">ORDEN DE PROVEEDOR</div>
                <div>N潞 {{ ordenProveedor.codigoOp }}</div>
            </div>
        </div>

        <!--  Datos de la orden de compra -->
        <div class="seccion">
            <strong>DATOS DE LA ORDEN DE COMPRA:</strong><br>
            {{#if ordenCompra.codigoVenta}}
                C贸digo de Orden: {{ ordenCompra.codigoVenta }}<br>
            {{/if}}
            {{#if ordenCompra.fechaEmision}}
                Fecha de Emisi贸n: {{ ordenCompra.fechaEmision }}<br>
            {{/if}}
            {{#if ordenProveedor.tipoPago}}
                Forma de Pago: {{ ordenProveedor.tipoPago }}<br>
            {{/if}}
            {{#if ordenCompra.fechaEntrega}}
                Plazo de Entrega: {{ ordenCompra.fechaEntrega }}<br>
            {{/if}}
            {{#if ordenProveedor.etiquetado}}
                Etiquetado: {{ ordenProveedor.etiquetado }}<br>
            {{/if}}
            {{#if ordenProveedor.embalaje}}
                Embalaje: {{ ordenProveedor.embalaje }}<br>
            {{/if}}
            {{#if ordenProveedor.observaciones}}
                Observaciones: {{ ordenProveedor.observaciones }}<br>
            {{/if}}
            {{#if ordenCompra.montoVenta}}
                Total con IGV: {{ formatCurrency ordenCompra.montoVenta }}<br>
            {{/if}}
            Fecha de Generaci贸n: {{ fechaActual }}
        </div>

        <!--  Datos del proveedor -->
        <div class="seccion">
            <strong>PROVEEDOR:</strong><br>
            Raz贸n Social: {{ proveedor.razonSocial }}<br>
            RUC: {{ proveedor.ruc }}<br>
            {{#if proveedor.direccion}}
                Direcci贸n: {{ proveedor.direccion }}<br>
            {{/if}}
            {{#if proveedor.telefono}}
                Tel茅fono: {{ proveedor.telefono }}<br>
            {{/if}}
            {{#if proveedor.email}}
                Email: {{ proveedor.email }}<br>
            {{/if}}
        </div>

        {{#if contactoProveedor}}
        <div class="seccion">
            <strong>CONTACTO DEL PROVEEDOR:</strong><br>
            {{#if contactoProveedor.nombre}}
                Nombre: {{ contactoProveedor.nombre }}<br>
            {{/if}}
            {{#if contactoProveedor.cargo}}
                Cargo: {{ contactoProveedor.cargo }}<br>
            {{/if}}
            {{#if contactoProveedor.telefono}}
                Tel茅fono: {{ contactoProveedor.telefono }}<br>
            {{/if}}
            {{#if contactoProveedor.email}}
                Email: {{ contactoProveedor.email }}
            {{/if}}
        </div>
        {{/if}}

        <!--  Datos de entrega (destino) -->
        {{#if ordenCompra}}
        <div class="seccion">
            <strong>DATOS DE ENTREGA (DESTINO):</strong><br>
            {{#if ordenCompra.cliente}}
                Destinatario: {{ ordenCompra.cliente.razonSocial }}<br>
                RUC Destinatario: {{ ordenCompra.cliente.ruc }}<br>
            {{/if}}
            {{#if ordenCompra.direccionEntrega}}
                Direcci贸n: {{ ordenCompra.direccionEntrega }}<br>
            {{/if}}
            {{#if ordenCompra.distritoEntrega}}
                Distrito: {{ ordenCompra.distritoEntrega }}{{#if ordenCompra.provinciaEntrega}}, {{ ordenCompra.provinciaEntrega }}{{/if}}{{#if ordenCompra.departamentoEntrega}}, {{ ordenCompra.departamentoEntrega }}{{/if}}<br>
            {{/if}}
            {{#if ordenCompra.referenciaEntrega}}
                Referencia: {{ ordenCompra.referenciaEntrega }}<br>
            {{/if}}
            {{#if ordenCompra.contactoCliente}}
                Contacto: {{ ordenCompra.contactoCliente.nombre }}<br>
                {{#if ordenCompra.contactoCliente.telefono}}
                    Tel茅fono del Contacto: {{ ordenCompra.contactoCliente.telefono }}
                {{/if}}
            {{/if}}
        </div>
        {{/if}}

        <!--  Productos -->
        {{#if productos.length}}
        <div class="seccion">
            <strong>PRODUCTOS SOLICITADOS:</strong>
        </div>
        <table class="tabla-productos">
            <thead>
                <tr>
                    <th>CDIGO</th>
                    <th>DESCRIPCIN</th>
                    <th>UNIDAD</th>
                    <th>CANTIDAD</th>
                    <th>PRECIO UNIT. S/</th>
                    <th>TOTAL S/</th>
                </tr>
            </thead>
            <tbody>
                {{#each productos}}
                <tr>
                    <td>{{ this.codigo }}</td>
                    <td>{{ this.descripcion }}</td>
                    <td>{{ this.unidadMedida }}</td>
                    <td>{{ this.cantidad }}</td>
                    <td>{{formatCurrency this.precioUnitario }}</td>
                    <td>{{formatCurrency this.total }}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{else}}
        <div class="seccion">
            <strong>PRODUCTOS SOLICITADOS:</strong><br>
            <p>No hay productos detallados en esta orden de proveedor.</p>
        </div>
        {{/if}}

        <!-- Totales -->
        <div class="totales">
            {{#if ordenProveedor.totalProveedor}}
                <strong>TOTAL A PAGAR: {{ formatCurrency ordenProveedor.totalProveedor }}</strong>
            {{else}}
                <strong>TOTAL A PAGAR: (No especificado)</strong>
            {{/if}}
        </div>

        <!-- Informaci贸n adicional de la orden -->
        {{#if ordenProveedor.fechaProgramada}}
        <div class="seccion">
            <strong>PROGRAMACIN:</strong><br>
            Fecha Programada: {{ ordenProveedor.fechaProgramada }}<br>
            {{#if ordenProveedor.fechaDespacho}}
                Fecha de Despacho: {{ ordenProveedor.fechaDespacho }}<br>
            {{/if}}
            {{#if ordenProveedor.fechaRecepcion}}
                Fecha de Recepci贸n: {{ ordenProveedor.fechaRecepcion }}
            {{/if}}
        </div>
        {{/if}}

        {{#if ordenProveedor.notaPedido}}
        <div class="seccion">
            <strong>NOTAS DEL PEDIDO:</strong><br>
            {{ ordenProveedor.notaPedido }}
        </div>
        {{/if}}

        {{#if ordenProveedor.notaPago}}
        <div class="seccion">
            <strong>NOTAS DE PAGO:</strong><br>
            {{ ordenProveedor.notaPago }}
        </div>
        {{/if}}

        {{#if ordenProveedor.notaAdicional}}
        <div class="seccion">
            <strong>NOTAS ADICIONALES:</strong><br>
            {{ ordenProveedor.notaAdicional }}
        </div>
        {{/if}}

        <div class="footer">
            Orden de Proveedor generada electr贸nicamente.
            <br>
            Fecha de generaci贸n: {{ fechaActual }}
        </div>
    </div>
</body>
</html>
