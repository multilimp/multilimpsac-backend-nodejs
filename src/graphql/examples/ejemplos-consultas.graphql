# EJEMPLOS DE CONSULTAS GRAPHQL
# Última actualización: 2024-03-27

# 1. CONSULTA BÁSICA - Obtener una orden de compra por ID
query GetOrdenCompra {
  ordenCompra(id: "123") {
    id
    codigoVenta
    fechaEmision
    montoVenta
    etapaActual
    estadoActivo
  }
}

# 2. CONSULTA CON RELACIONES - Obtener orden con datos de cliente y empresa
query GetOrdenCompraConRelaciones {
  ordenCompra(id: "123") {
    id
    codigoVenta
    fechaEmision
    montoVenta
    # Relación con Cliente
    cliente {
      id
      razonSocial
      ruc
    }
    # Relación con Empresa
    empresa {
      id
      razonSocial
    }
  }
}

# 3. CONSULTA CON CAMPO JSON - Acceder a datos en formato JSON
query GetOrdenCompraConProductosJSON {
  ordenCompra(id: "123") {
    id
    codigoVenta
    # El campo productos es de tipo JSON y contiene un array
    productos
  }
}

# 4. CONSULTA PAGINADA CON FILTROS - Obtener una lista paginada
query GetOrdenesCompraPaginadas {
  ordenesCompra(
    page: 1,
    pageSize: 10,
    filters: {
      fechaFrom: "2024-01-01",
      fechaTo: "2024-03-31",
      search: "Cliente"
    },
    orderBy: "fechaEmision:DESC"
  ) {
    data {
      id
      codigoVenta
      fechaEmision
      cliente {
        razonSocial
      }
    }
    total
    page
    pageSize
    totalPages
  }
}

# 5. CONSULTAS CON VARIABLES - Utilizando variables parametrizadas
# Variables (en formato JSON):
# {
#   "ordenId": "123",
#   "page": 1,
#   "pageSize": 10
# }
query GetOrdenCompraParametrizada($ordenId: ID!, $page: Int, $pageSize: Int) {
  # Consulta individual
  ordenCompra(id: $ordenId) {
    id
    codigoVenta
    fechaEmision
  }
  # Consulta paginada
  ordenesCompra(page: $page, pageSize: $pageSize) {
    data {
      id
      codigoVenta
    }
    total
  }
}

# IMPORTANTE: 
# - Los nombres de las consultas (GetOrdenCompra, etc.) son opcionales y solo sirven para 
#   identificarlas en el cliente. El sistema GraphQL no los necesita para funcionar.
# - Las consultas pueden contener cualquier combinación de campos definidos en el schema.
# - Recuerde que GraphQL permite solicitar exactamente los campos que necesita,
#   optimizando así las consultas a la base de datos.
